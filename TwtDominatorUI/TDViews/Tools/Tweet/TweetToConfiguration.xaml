<local:TweetToConfigBase x:Class="TwtDominatorUI.TDViews.Tools.Tweet.TweetToConfiguration"
                         xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                         xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                         xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                         xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                         xmlns:local="clr-namespace:TwtDominatorUI.TDViews.Tools.Tweet"
                         mc:Ignorable="d"
                         x:Name="TweetToConfigurationUserControl"
                         xmlns:Controls="http://metro.mahapps.com/winfx/xaml/controls"
                         xmlns:customControl="clr-namespace:DominatorUIUtility.CustomControl;assembly=DominatorUIUtility"
                         xmlns:customControl1="clr-namespace:TwtDominatorUI.CustomControl"
                         xmlns:converters="clr-namespace:DominatorHouseCore.Converters;assembly=DominatorHouseCore"
                         xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity">

    <i:Interaction.Triggers>
        <i:EventTrigger EventName="Loaded">
            <i:InvokeCommandAction Command="{Binding LoadedCommand,ElementName=TweetToConfigurationUserControl}" />
        </i:EventTrigger>
    </i:Interaction.Triggers>

    <UserControl.Resources>
        <converters:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
    </UserControl.Resources>

    <Grid>
        <StackPanel VerticalAlignment="Top">

            <customControl:AccountGrowthModeHeader x:FieldModifier="public" x:Name="AccountGrowthHeader"
                                                   VerticalAlignment="Top" SelectedIndex="0"
                                                   VideoTutorialLink="{Binding VideoTutorialLink}"
                                                   SelectionChangedCommand="{Binding SelectionChangedCommand,ElementName=TweetToConfigurationUserControl}"
                                                   SaveCommand="{Binding SaveConfigurationsCommand}" />
        </StackPanel>
        <Grid Name="MainGrid" Margin="0,40,0,0" ScrollViewer.VerticalScrollBarVisibility="Auto">
            <ScrollViewer>
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="10">
                        <TextBlock Text="{DynamicResource LangKeyStatus}" FontWeight="Bold" VerticalAlignment="Center"
                                   Margin="10,0,10,0" />
                        <Controls:ToggleSwitch x:Name="TglStatus" OnLabel="Active﻿"
                                               IsChecked="{Binding TweetToModel.IsAccountGrowthActive}"
                                               OffLabel="Stopped﻿" VerticalAlignment="Center"
                                               FontSize="12"
                                               Style="{StaticResource MahApps.Metro.Styles.ToggleSwitch.Win10}">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Click">
                                    <i:InvokeCommandAction
                                        Command="{Binding StatusChangedCommand,ElementName=TweetToConfigurationUserControl}" />
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </Controls:ToggleSwitch>
                    </StackPanel>
                    <StackPanel Orientation="Vertical">
                        <Expander Header="{DynamicResource LangKeySearchQuery}" IsExpanded="True" Margin="5">
                            <customControl:SearchQueryControl IsExpanded="True"
                                                              Name="TweetToConfigurationSearchControl"
                                                              ListQueryInfo="{Binding TweetToModel.SavedQueries}"
                                                              ListQueryType="{Binding TweetToModel.ListQueryType}"
                                                              AddQueryCommand="{Binding AddQueryCommand}"
                                                              CommandParameter="{Binding ElementName=TweetToConfigurationUserControl}"
                                                              CustomFilterCommand="{Binding CustomFilterCommand}"
                                                              DeleteQueryCommand="{Binding DeleteQueryCommand}"
                                                              DeleteMulipleCommand="{Binding DeleteMulipleCommand}" />
                        </Expander>


                        <!-- TweetToManager  Expander-->

                        <Expander Header="{DynamicResource LangKeyManageContent}" Margin="5,5">
                            <StackPanel>

                                <CheckBox Content="{DynamicResource LangKeySpintax}"
                                          IsChecked="{Binding TweetToModel.IsSpintax}" Margin="15,2"
                                          ToolTip="{DynamicResource LangKeyCommentSpintaxFormat}" FontSize="15"
                                          FontWeight="Bold" />
                                <TextBlock FontWeight="Bold" Margin="0,10" FontSize="16"
                                           Text="{DynamicResource LangKeyTweetTo}" VerticalAlignment="Center" />
                                <customControl:InputBoxControl InputText="{Binding TweetToModel.TweetToText}"
                                                               SaveVisiblity="Collapsed" />

                                <StackPanel Orientation="Horizontal">
                                    <Button x:Name="btnPhotos" Background="{DynamicResource AccentBaseColorBrush}"
                                            Height="30"
                                            HorizontalAlignment="Left" Foreground="White" Width="100"
                                            Command="{Binding SelectMedia}" Margin="5">
                                        <Button.Content>
                                            <StackPanel Orientation="Horizontal">
                                                <Rectangle Width="15" Height="15" Fill="White">
                                                    <Rectangle.OpacityMask>
                                                        <VisualBrush Visual="{StaticResource appbar_image_export}"
                                                                     Stretch="Fill" />
                                                    </Rectangle.OpacityMask>
                                                </Rectangle>
                                                <TextBlock Text="{DynamicResource LangKeyPhoto}" Margin="6,0" />

                                            </StackPanel>
                                        </Button.Content>
                                    </Button>

                                    <!--<Image Source="{Binding Messages.MediaPath}"  Height="Auto" MaxHeight="60" Margin="5" VerticalAlignment="Center">
                                    <Image.ContextMenu>
                                        <ContextMenu>
                                            <MenuItem Header="{DynamicResource LangKeyDelete}" Click="DeleteMedia_Click">
                                                <MenuItem.Icon>
                                                    <Rectangle  Width="15" Height="18" Fill="Black" Margin="0,0,0,3" VerticalAlignment="Center" HorizontalAlignment="Center">
                                                        <Rectangle.OpacityMask>
                                                            <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_delete}" />
                                                        </Rectangle.OpacityMask>
                                                    </Rectangle>
                                                </MenuItem.Icon>
                                            </MenuItem>
                                        </ContextMenu>
                                    </Image.ContextMenu>
                                </Image>-->

                                    <StackPanel>
                                        <Label x:Name="TextBlockVideoPath"
                                               Content="{Binding TweetToModel.VideoFilePath, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                               Visibility="{Binding TweetToModel.VideoFilePathVisibility, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                               Margin="20,5,20,30">
                                            <Label.ContextMenu>
                                                <ContextMenu>
                                                    <MenuItem Header="Delete" Height="30" Name="DeleteVideo"
                                                              VerticalContentAlignment="Center"
                                                              Command="{Binding RemoveFilePath}">
                                                        <MenuItem.Icon>
                                                            <Rectangle Width="15" Height="18" Fill="Black"
                                                                       Margin="0,0,0,3" VerticalAlignment="Center"
                                                                       HorizontalAlignment="Center">
                                                                <Rectangle.OpacityMask>
                                                                    <VisualBrush Stretch="Fill"
                                                                                 Visual="{StaticResource appbar_delete}" />
                                                                </Rectangle.OpacityMask>
                                                            </Rectangle>
                                                        </MenuItem.Icon>
                                                    </MenuItem>
                                                </ContextMenu>
                                            </Label.ContextMenu>
                                        </Label>

                                        <ListView ItemsSource="{Binding TweetToModel.MediaList}" Name="lstview_Images"
                                                  Visibility="{Binding TweetToModel.MediaListVisibility, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}">
                                            <ListView.ItemsPanel>
                                                <ItemsPanelTemplate>
                                                    <StackPanel Orientation="Horizontal" />
                                                </ItemsPanelTemplate>
                                            </ListView.ItemsPanel>
                                            <ListView.ItemTemplate>
                                                <DataTemplate>
                                                    <StackPanel Orientation="Horizontal">
                                                        <Image Source="{Binding }" Width="50" Height="50">
                                                            <Image.ContextMenu>
                                                                <ContextMenu>
                                                                    <MenuItem Header="Delete" Height="30"
                                                                              Name="menu_DeleteSingleImage"
                                                                              Click="menu_DeleteSingleImage_Click"
                                                                              VerticalContentAlignment="Center">
                                                                        <!--Command="{Binding Path=PlacementTarget.DataContext.RemoveSelectedMedia, RelativeSource={RelativeSource AncestorType=ContextMenu}}" CommandParameter="{Binding ElementName=menu_DeleteSingleImage}"-->
                                                                        <!--<i:EventTrigger EventName="Click">
                                                                        <i:InvokeCommandAction Command="{Binding RemoveSelectedMedia}" CommandParameter="{Binding ElementName=menu_DeleteSingleImage}" />
                                                                    </i:EventTrigger>-->
                                                                        <MenuItem.Icon>
                                                                            <Rectangle Width="15" Height="18"
                                                                                       Fill="Black" Margin="0,0,0,3"
                                                                                       VerticalAlignment="Center"
                                                                                       HorizontalAlignment="Center">
                                                                                <Rectangle.OpacityMask>
                                                                                    <VisualBrush Stretch="Fill"
                                                                                                 Visual="{StaticResource appbar_delete}" />
                                                                                </Rectangle.OpacityMask>
                                                                            </Rectangle>
                                                                        </MenuItem.Icon>
                                                                    </MenuItem>

                                                                </ContextMenu>
                                                            </Image.ContextMenu>
                                                        </Image>
                                                    </StackPanel>
                                                </DataTemplate>
                                            </ListView.ItemTemplate>
                                        </ListView>

                                        <!--<Line  X1="0" Y1="0"  X2="450" Y2="0"  Stroke="Gray" Margin="10" StrokeThickness="2" VerticalAlignment="Bottom" />-->
                                    </StackPanel>
                                </StackPanel>

                            </StackPanel>
                        </Expander>


                        <!-- JobConfiguration  Expander-->
                        <Expander Header="{DynamicResource LangKeyJobConfiguration}" Margin="5,5">
                            <customControl:JobConfigControl JobConfiguration="{Binding TweetToModel.JobConfiguration}" />
                        </Expander>

                        <!--UserFilterControl Expander-->

                        <Expander Header="{DynamicResource LangKeyUserFilters}"
                                  Visibility="{Binding TweetToModel.IsEnableAdvancedUserMode,Converter={StaticResource BooleanToVisibilityConverter}}"
                                  Margin="5,5">
                            <customControl1:UserFiltersControl x:Name="UserFilterControl"
                                                               UserFilter="{Binding TweetToModel.UserFilterModel}" />
                        </Expander>

                    </StackPanel>
                </StackPanel>
            </ScrollViewer>
        </Grid>
    </Grid>
</local:TweetToConfigBase>