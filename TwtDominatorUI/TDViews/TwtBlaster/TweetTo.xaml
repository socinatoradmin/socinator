<local:TweetToBase
    x:Class="TwtDominatorUI.TDViews.TwtBlaster.TweetTo"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Controls="http://metro.mahapps.com/winfx/xaml/controls"
    xmlns:converters="clr-namespace:DominatorHouseCore.Converters;assembly=DominatorHouseCore"
    xmlns:customControl="clr-namespace:DominatorUIUtility.CustomControl;assembly=DominatorUIUtility"
    xmlns:customControl1="clr-namespace:TwtDominatorUI.CustomControl"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
    xmlns:local="clr-namespace:TwtDominatorUI.TDViews.TwtBlaster"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    x:Name="TweetToUserControl"
    FontFamily="{DynamicResource GabaritoSemiBold}"
    mc:Ignorable="d">

    <UserControl.Resources>
        <converters:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
    </UserControl.Resources>
    <UserControl.CommandBindings>
        <CommandBinding Command="New" />

    </UserControl.CommandBindings>

    <Grid>
        <StackPanel VerticalAlignment="Top">
            <customControl:HeaderControl
                Name="TweetToHeader"
                Grid.Row="0"
                CampaignName="{Binding CampaignName}"
                CancelEditCommand="{Binding CancelEditCommand}"
                InfoCommand="{Binding InfoCommand}"
                IsCampaignNameEditable="{Binding IsEditCampaignName}"
                IsCancelEditVisible="{Binding CancelEditVisibility}" />

        </StackPanel>

        <Grid Name="MainGrid">
            <ScrollViewer Margin="0,40,0,60" ScrollViewer.VerticalScrollBarVisibility="Auto">
                <StackPanel Orientation="Vertical">
                    <Expander
                        Margin="5"
                        Header="{DynamicResource LangKeySearchQuery}"
                        IsExpanded="True">
                        <customControl:SearchQueryControl
                            Name="TweetToSearchControl"
                            AddQueryCommand="{Binding AddQueryCommand}"
                            CommandParameter="{Binding ElementName=TweetToUserControl}"
                            CustomFilterCommand="{Binding CustomFilterCommand}"
                            DeleteMulipleCommand="{Binding DeleteMulipleCommand}"
                            DeleteQueryCommand="{Binding DeleteQueryCommand}"
                            IsExpanded="True"
                            ListQueryInfo="{Binding TweetToModel.SavedQueries}"
                            ListQueryType="{Binding TweetToModel.ListQueryType}" />
                    </Expander>

                    <!--  TweetToManager  Expander  -->

                    <Expander Margin="5,5" Header="{DynamicResource LangKeyManageContent}">
                        <StackPanel>
                            <CheckBox
                                Margin="15,2"
                                Content="{DynamicResource LangKeySpintax}"
                                FontSize="15"
                                FontWeight="Bold"
                                IsChecked="{Binding TweetToModel.IsSpintax}"
                                ToolTip="{DynamicResource LangKeyCommentSpintaxFormat}" />
                            <TextBlock
                                Margin="0,10"
                                VerticalAlignment="Center"
                                FontSize="16"
                                FontWeight="Bold"
                                Text="{DynamicResource LangKeyTweetTo}" />
                            <customControl:InputBoxControl InputText="{Binding TweetToModel.TweetToText}" SaveVisiblity="Visible" />

                            <StackPanel Orientation="Horizontal">
                                <Button
                                    x:Name="btnPhotos"
                                    Width="100"
                                    Height="30"
                                    Margin="5"
                                    HorizontalAlignment="Left"
                                    Background="{DynamicResource AccentBaseColorBrush}"
                                    Command="{Binding SelectMedia}"
                                    Foreground="White">
                                    <Button.Content>
                                        <StackPanel Orientation="Horizontal">
                                            <Rectangle
                                                Width="15"
                                                Height="15"
                                                Fill="White">
                                                <Rectangle.OpacityMask>
                                                    <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_image_export}" />
                                                </Rectangle.OpacityMask>
                                            </Rectangle>
                                            <TextBlock Margin="6,0" Text="{DynamicResource LangKeyPhoto}" />

                                        </StackPanel>
                                    </Button.Content>
                                </Button>

                                <!--<Image Source="{Binding Messages.MediaPath}"  Height="Auto" MaxHeight="60" Margin="5" VerticalAlignment="Center">
                                    <Image.ContextMenu>
                                        <ContextMenu>
                                            <MenuItem Header="{DynamicResource LangKeyDelete}" Click="DeleteMedia_Click">
                                                <MenuItem.Icon>
                                                    <Rectangle  Width="15" Height="18" Fill="Black" Margin="0,0,0,3" VerticalAlignment="Center" HorizontalAlignment="Center">
                                                        <Rectangle.OpacityMask>
                                                            <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_delete}" />
                                                        </Rectangle.OpacityMask>
                                                    </Rectangle>
                                                </MenuItem.Icon>
                                            </MenuItem>
                                        </ContextMenu>
                                    </Image.ContextMenu>
                                </Image>-->

                                <StackPanel>
                                    <Label
                                        x:Name="TextBlockVideoPath"
                                        Margin="20,5,20,30"
                                        Content="{Binding TweetToModel.VideoFilePath, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                        Visibility="{Binding TweetToModel.VideoFilePathVisibility, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}">
                                        <Label.ContextMenu>
                                            <ContextMenu>
                                                <MenuItem
                                                    Name="DeleteVideo"
                                                    Height="30"
                                                    VerticalContentAlignment="Center"
                                                    Command="{Binding RemoveFilePath}"
                                                    Header="Delete">
                                                    <MenuItem.Icon>
                                                        <Rectangle
                                                            Width="15"
                                                            Height="18"
                                                            Margin="0,0,0,3"
                                                            HorizontalAlignment="Center"
                                                            VerticalAlignment="Center"
                                                            Fill="Black">
                                                            <Rectangle.OpacityMask>
                                                                <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_delete}" />
                                                            </Rectangle.OpacityMask>
                                                        </Rectangle>
                                                    </MenuItem.Icon>
                                                </MenuItem>
                                            </ContextMenu>
                                        </Label.ContextMenu>
                                    </Label>

                                    <ListView
                                        Name="lstview_Images"
                                        ItemsSource="{Binding TweetToModel.MediaList}"
                                        Visibility="{Binding TweetToModel.MediaListVisibility, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}">
                                        <ListView.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <StackPanel Orientation="Horizontal" />
                                            </ItemsPanelTemplate>
                                        </ListView.ItemsPanel>
                                        <ListView.ItemTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal">
                                                    <Image
                                                        Width="50"
                                                        Height="50"
                                                        Source="{Binding}">
                                                        <Image.ContextMenu>
                                                            <ContextMenu>
                                                                <MenuItem
                                                                    Name="menu_DeleteSingleImage"
                                                                    Height="30"
                                                                    VerticalContentAlignment="Center"
                                                                    Click="menu_DeleteSingleImage_Click"
                                                                    Header="Delete">
                                                                    <!--  Command="{Binding Path=PlacementTarget.DataContext.RemoveSelectedMedia, RelativeSource={RelativeSource AncestorType=ContextMenu}}" CommandParameter="{Binding ElementName=menu_DeleteSingleImage}"  -->
                                                                    <!--<i:EventTrigger EventName="Click">
                                                                        <i:InvokeCommandAction Command="{Binding RemoveSelectedMedia}" CommandParameter="{Binding ElementName=menu_DeleteSingleImage}" />
                                                                    </i:EventTrigger>-->
                                                                    <MenuItem.Icon>
                                                                        <Rectangle
                                                                            Width="15"
                                                                            Height="18"
                                                                            Margin="0,0,0,3"
                                                                            HorizontalAlignment="Center"
                                                                            VerticalAlignment="Center"
                                                                            Fill="Black">
                                                                            <Rectangle.OpacityMask>
                                                                                <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_delete}" />
                                                                            </Rectangle.OpacityMask>
                                                                        </Rectangle>
                                                                    </MenuItem.Icon>
                                                                </MenuItem>

                                                            </ContextMenu>
                                                        </Image.ContextMenu>
                                                    </Image>
                                                </StackPanel>
                                            </DataTemplate>
                                        </ListView.ItemTemplate>
                                    </ListView>

                                    <!--<Line  X1="0" Y1="0"  X2="450" Y2="0"  Stroke="Gray" Margin="10" StrokeThickness="2" VerticalAlignment="Bottom" />-->
                                </StackPanel>
                            </StackPanel>

                        </StackPanel>
                    </Expander>

                    <!--  JobConfiguration  Expander  -->
                    <Expander Margin="5,5" Header="{DynamicResource LangKeyJobConfiguration}">
                        <customControl:JobConfigControl JobConfiguration="{Binding TweetToModel.JobConfiguration}" />
                    </Expander>

                    <!--  UserFilterControl Expander  -->

                    <Expander
                        Margin="5,5"
                        Header="{DynamicResource LangKeyUserFilters}"
                        Visibility="{Binding TweetToModel.IsEnableAdvancedUserMode, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <customControl1:UserFiltersControl x:Name="UserFilterControl" UserFilter="{Binding TweetToModel.UserFilterModel}" />
                    </Expander>


                    <!--  After TweetTo Action  -->
                    <!--<Expander  Header="{DynamicResource LangKeyAfterTweetToAction}" Visibility="{Binding TweetToModel.IsEnableAdvancedUserMode,Converter={StaticResource BooleanToVisibilityConverter}}" Margin="5,5">
                        <StackPanel>
                            <StackPanel Margin="5,5,0,0" >
                                <CheckBox Content="{DynamicResource LangKeyEnableLikeCommentsAfterPostsIsTweetToed}" IsChecked="{Binding TweetToModel.IsChkEnableLikeComments}" />
                                <StackPanel Margin="20,0,0,0" Visibility="{Binding TweetToModel.IsChkEnableLikeComments,Converter={StaticResource BooleanToVisibilityConverter}}">
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,0" >
                                        <Label HorizontalAlignment="Center" VerticalAlignment="Center"  Content="{DynamicResource LangKeyLikeBetween}" />
                                        <Controls:NumericUpDown Margin="5,5,5,0"  Value="{Binding TweetToModel.LikeCommentRange.StartValue}" Name="CommentToBeLikeAfterEachLikedPostStartValue" />
                                        <Label HorizontalAlignment="Center" VerticalAlignment="Center"  Content="{DynamicResource LangKeyTo}" />
                                        <Controls:NumericUpDown Margin="5,5,5,0"  Value="{Binding TweetToModel.LikeCommentRange.EndValue}" Minimum="{Binding TweetToModel.LikeCommentRange.StartValue}"/>
                                    </StackPanel>

                                    <StackPanel Orientation="Horizontal" Margin="5,0">
                                        <Label Content="{DynamicResource LangKeyDelayBetween}"  VerticalAlignment="Center" />
                                        <Controls:NumericUpDown Minimum="0" Margin="5,5,5,0" Value="{Binding TweetToModel.DelayBetweenLikeTweetRange.StartValue}" Name="LikeDelayBetweenJobsStartValue" />
                                        <Label HorizontalAlignment="Center" VerticalAlignment="Center"  Content="{DynamicResource LangKeyAnd}" />
                                        <Controls:NumericUpDown Margin="5,5,5,0" Value="{Binding TweetToModel.DelayBetweenLikeTweetRange.EndValue}" Minimum="{Binding Value,ElementName=LikeDelayBetweenJobsStartValue}" />
                                    </StackPanel>


                                </StackPanel>
                            </StackPanel>

                            <StackPanel  Margin="5,5,0,0" >
                                <CheckBox Content="{DynamicResource LangKeyEnableTweetToCommentsAfterPostsIsTweetToed}" IsChecked="{Binding TweetToModel.IsChkEnableTweetToComments}" />
                                <StackPanel Margin="20,0,0,0" Visibility="{Binding TweetToModel.IsChkEnableTweetToComments,Converter={StaticResource BooleanToVisibilityConverter}}" >
                                    <StackPanel Orientation="Horizontal" IsEnabled="{Binding TweetToModel.IsChkEnableTweetToComments}">
                                        <Label HorizontalAlignment="Center" VerticalAlignment="Center"  Content="{DynamicResource LangKeyTweetToBetween}" />
                                        <Controls:NumericUpDown Margin="5,5,5,0" IsEnabled="{Binding TweetToModel.IsChkEnableTweetToComments}" Value="{Binding TweetToModel.TweetToCommentRange.StartValue}" Name="CommentToBeTweetToAfterEachLikedPostStartValue" />
                                        <Label HorizontalAlignment="Center" VerticalAlignment="Center"  Content="{DynamicResource LangKeyTo}" />
                                        <Controls:NumericUpDown Margin="5,5,5,0" IsEnabled="{Binding TweetToModel.IsChkEnableTweetToComments}" Value="{Binding TweetToModel.TweetToCommentRange.EndValue}" Minimum="{Binding TweetToCommentRange.StartValue}"/>
                                    </StackPanel>

                                    <StackPanel Orientation="Horizontal" Margin="5,0">
                                        <Label Content="{DynamicResource LangKeyDelayBetween}"  VerticalAlignment="Center" />
                                        <Controls:NumericUpDown Minimum="0" Margin="5,5,5,0" Value="{Binding TweetToModel.DelayBetweenTweetToRange.StartValue}" Name="TweetToDelayBetweenJobsStartValue" />
                                        <Label HorizontalAlignment="Center" VerticalAlignment="Center"  Content="{DynamicResource LangKeyAnd}" />
                                        <Controls:NumericUpDown Margin="5,5,5,0" Value="{Binding TweetToModel.DelayBetweenTweetToRange.EndValue}" Minimum="{Binding Value,ElementName=TweetToDelayBetweenJobsStartValue}" />
                                    </StackPanel>
                                </StackPanel>

                            </StackPanel>

                            <StackPanel Margin="0,5,0,0">
                                <CheckBox Content="{DynamicResource LangKeyUploadCommentS}" Name="ChkUploadComments" Margin="5,5" IsChecked="{Binding TweetToModel.IsChkUploadComments}"/>
                                <StackPanel Margin="30,5" Visibility="{Binding TweetToModel.IsChkUploadComments,Converter={StaticResource BooleanToVisibilityConverter}}">
                                    <customControl:InputBoxControl Margin="0,5" x:Name="UploadCommentInputBox" SaveCommand="{Binding SplitCommentInputToListCommand}"  InputText="{Binding TweetToModel.UploadedCommentInput}"/>
                                    <StackPanel Orientation="Horizontal" >
                                        <CheckBox Content="{DynamicResource LangKeyCommentBetween}" VerticalAlignment="Center" IsChecked="{Binding TweetToModel.IsChkMaxComment}"/>
                                        <Controls:NumericUpDown Margin="5,5,5,0" Value="{Binding TweetToModel.CommentMaxRange.StartValue}" Name="MaxTweetRangeStartValue" IsEnabled="{Binding TweetToModel.IsChkMaxComment}"/>
                                        <Label HorizontalAlignment="Center" VerticalAlignment="Center"  Content="{DynamicResource LangKeyTo}" />
                                        <Controls:NumericUpDown Margin="5,5,5,0" Value="{Binding TweetToModel.CommentMaxRange.EndValue}" Minimum="{Binding TweetToModel.CommentMaxRange.StartValue}" IsEnabled="{Binding TweetToModel.IsChkMaxComment}"/>
                    -->
                    <!--<Label Content="{DynamicResource LangKeyTweetPerDay}" HorizontalAlignment="Center" VerticalAlignment="Center" />-->
                    <!--
                                    </StackPanel>

                                    <StackPanel Orientation="Horizontal" Margin="5,0">
                                        <Label Content="{DynamicResource LangKeyDelayBetween}"  VerticalAlignment="Center" />
                                        <Controls:NumericUpDown Minimum="0" Margin="5,5,5,0" Value="{Binding TweetToModel.DelayBetweenCommentRange.StartValue}" Name="CommentDelayBetweenJobsStartValue" />
                                        <Label HorizontalAlignment="Center" VerticalAlignment="Center"  Content="{DynamicResource LangKeyAnd}" />
                                        <Controls:NumericUpDown Margin="5,5,5,0" Value="{Binding TweetToModel.DelayBetweenCommentRange.EndValue}" Minimum="{Binding Value,ElementName=CommentDelayBetweenJobsStartValue}" />
                                    </StackPanel>


                                </StackPanel>
                            </StackPanel>

                            <StackPanel Margin="5,5,0,0">
                                <CheckBox Content="{DynamicResource LangKeyFollowTweetOwner}" IsChecked="{Binding TweetToModel.IsChkFollowTWeetOwner}"/>
                                <CheckBox Content="{DynamicResource LangKeyLikeTweets}" IsChecked="{Binding TweetToModel.IsChkLikeTweet}" Margin="0,5" />
                            </StackPanel>
                        </StackPanel>
                    </Expander>-->

                    <!--  OtherConfiguration  Expander  -->
                    <!--<Expander  Header="{DynamicResource LangKeyOtherConfigurations}" Visibility="{Binding TweetToModel.IsEnableAdvancedUserMode,Converter={StaticResource BooleanToVisibilityConverter}}" Margin="5,5">
                        <StackPanel>

                            <StackPanel Orientation="Horizontal" Margin="10,5,0,0" >
                                <CheckBox  IsChecked="{Binding TweetToModel.IsChkActionTweetPerUser}" >
                                    <CheckBox.Content>
                                        <TextBlock >
                                            <TextBlock Text="{DynamicResource LangKeyMaximum}"/>
                                            <TextBlock Text="{DynamicResource LangKeyNumberOfTweetsToBeTweetToedPerUser}"/>
                                        </TextBlock>
                                    </CheckBox.Content>
                                </CheckBox>
                                <Controls:NumericUpDown Minimum="1" Margin="5,5,5,0" IsEnabled="{Binding TweetToModel.IsChkActionTweetPerUser}" Value="{Binding TweetToModel.NoOfActionTweetPerUser.StartValue}"  />
                    -->
                    <!--<Label HorizontalAlignment="Center" VerticalAlignment="Center"  Content="{DynamicResource LangKeyTo}" />
                                <Controls:NumericUpDown Margin="5,5,5,0" IsEnabled="{Binding IsChkActionTweetPerUser}" Value="{Binding NoOfActionTweetPerUser.EndValue}" Minimum="{Binding NoOfActionTweetPerUser.StartValue}"/>-->
                    <!--

                            </StackPanel>
                            <StackPanel Margin="10,0,0,5">
                                <CheckBox Margin="0,0,0,0" Content="{DynamicResource LangKeyTweetToUniqueTweetsFromEachAccount}" IsChecked="{Binding TweetToModel.IsCampaignWiseUniqueChecked}"/>
                            </StackPanel>
                        </StackPanel>
                    </Expander>-->

                    <!--  After Blacklists Expander  -->

                    <!--<Expander  Header="{DynamicResource LangKeyManageBlacklistedUsers}" Visibility="{Binding TweetToModel.IsEnableAdvancedUserMode,Converter={StaticResource BooleanToVisibilityConverter}}" Margin="5,5">
                        <StackPanel>
                            <CheckBox Content="{DynamicResource LangKeySkipBlacklistedUsers}" IsChecked="{Binding TweetToModel.SkipBlacklist.IsSkipBlackListUsers}" Margin="5,5"  />
                            <StackPanel Orientation="Horizontal" Margin="5,5" Visibility="{Binding TweetToModel.SkipBlacklist.IsSkipBlackListUsers,Converter={StaticResource BooleanToVisibilityConverter}}">
                                <CheckBox Content="{DynamicResource LangKeyUsePrivateBlacklist}" Margin="5,5" IsChecked="{Binding TweetToModel.SkipBlacklist.IsSkipPrivateBlackListUser}" />
                                <CheckBox Content="{DynamicResource LangKeyUseGroupBlacklist}" Margin="5,5"  IsChecked="{Binding TweetToModel.SkipBlacklist.IsSkipGroupBlackListUsers}" />
                            </StackPanel>
                        </StackPanel>
                    </Expander>-->


                </StackPanel>
            </ScrollViewer>
        </Grid>

        <StackPanel
            Name="FooterGrid"
            Margin="5,0"
            VerticalAlignment="Bottom">
            <customControl:FooterControl
                x:Name="TweetToFooter"
                CampaignManager="{Binding CampaignButtonContent}"
                CreateCampaignCommand="{Binding CreateCampaignCommand}"
                NoOfAccountsSelected="{Binding SelectedAccountCount, Mode=TwoWay}"
                SelectAccountCommand="{Binding SelectAccountCommand}" />

        </StackPanel>


        <Controls:FlyoutsControl>
            <Controls:Flyout
                Name="HelpFlyout"
                Width="300"
                Background="{DynamicResource AccentBaseColorBrush}"
                BorderBrush="Black"
                BorderThickness="2"
                DataContext="{Binding ElementName=TweetToFooter, Path=DataContext}"
                FontSize="10"
                FontWeight="Bold"
                Foreground="White"
                Header="{DynamicResource LangKeyModuleDescription}"
                IsOpen="{Binding IsOpen, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                Position="Right"
                Theme="Accent"
                Visibility="Collapsed">

                <customControl:HelpControl
                    ContactSupportLink="{Binding ContactSupportLink}"
                    DataContext="{Binding ElementName=TweetToFooter, Path=DataContext}"
                    KnowledgeBaseLink="{Binding KnowledgeBaseLink}"
                    ModuleDescription="{DynamicResource LangKeyModuleDescriptionTwitterAutoTweetTo}"
                    VideoTutorial="{Binding VideoTutorialLink}" />
            </Controls:Flyout>
        </Controls:FlyoutsControl>

    </Grid>
</local:TweetToBase>