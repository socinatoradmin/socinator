<local:PosterBase
    x:Class="GramDominatorUI.GDViews.InstaPoster.Poster"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Controls="http://metro.mahapps.com/winfx/xaml/controls"
    xmlns:DHCustomControl="clr-namespace:DominatorUIUtility.CustomControl;assembly=DominatorUIUtility"
    xmlns:converters="clr-namespace:DominatorHouseCore.Converters;assembly=DominatorHouseCore"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:GramDominatorUI.GDViews.InstaPoster"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">
    <UserControl.Resources>
        <converters:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
    </UserControl.Resources>
    <Grid Name="MainGrid">

        <StackPanel VerticalAlignment="Top">
            <DHCustomControl:HeaderControl
                x:Name="PosterHeader"
                CampaignName="{Binding CampaignName}"
                CancelEditClick="PosterHeader_OnCancelEditClick"
                InfoChanged="PosterHeader_OnInfoChanged"
                IsCampaignNameEditable="{Binding IsEditCampaignName}"
                IsCancelEditVisible="{Binding CancelEditVisibility}" />
        </StackPanel>

        <!--  Filter section  -->
        <Grid Margin="0,40,0,100" ScrollViewer.VerticalScrollBarVisibility="Auto">
            <ScrollViewer>
                <StackPanel>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="2*" />
                        </Grid.ColumnDefinitions>

                        <StackPanel Margin="10,5">
                            <RadioButton
                                Name="RbtnSinglePost"
                                Margin="0,10,0,0"
                                Content="{DynamicResource LangKeyCreateSinglePost}"
                                GroupName="selectPostType"
                                IsChecked="{Binding IsSinglePostChecked}" />
                            <RadioButton
                                Name="RbtnMultiPost"
                                Margin="0,8,0,0"
                                VerticalAlignment="Top"
                                Content="{DynamicResource LangKeyCreateMultiplePosts}"
                                GroupName="selectPostType"
                                IsChecked="{Binding IsMultiPostChecked}" />
                            <RadioButton
                                Name="RbtnMonitorFolder"
                                Margin="0,8,0,0"
                                VerticalAlignment="Top"
                                Content="{DynamicResource LangKeyMonitoredFolder}"
                                GroupName="selectPostType"
                                IsChecked="{Binding IsMonitoredFolderChecked}" />
                            <StackPanel Margin="5" Orientation="Horizontal">
                                <TextBlock
                                    Name="TxtblkTagMediaGenerator"
                                    Margin="5,5"
                                    FontWeight="SemiBold"
                                    Text="{DynamicResource langAdvancedTools}" />
                                <Button
                                    Name="BtnPostGenerator"
                                    Width="152"
                                    Height="30"
                                    Margin="10,0"
                                    VerticalAlignment="Center"
                                    Background="{DynamicResource AccentColorBrush}"
                                    Content="{DynamicResource langImagePathGenerator}"
                                    FontSize="12"
                                    Foreground="White" />
                            </StackPanel>

                        </StackPanel>
                        <Rectangle
                            Width="2"
                            Margin="2"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Stretch"
                            Stroke="Gray" />

                        <StackPanel Grid.Column="1" Margin="20,0,150,0">

                            <DHCustomControl:PostAreaBoxControl
                                x:Name="SinglePostAreaBox"
                                HorizontalAlignment="Stretch"
                                Visibility="{Binding IsSinglePostChecked, Converter={StaticResource BooleanToVisibilityConverter}}" />

                            <StackPanel HorizontalAlignment="Left" Visibility="{Binding IsMultiPostChecked, Converter={StaticResource BooleanToVisibilityConverter}}">

                                <Button
                                    Name="BtnCreateMultiplePost"
                                    Width="159"
                                    Height="30"
                                    Margin="0,5"
                                    HorizontalAlignment="Left"
                                    Background="{DynamicResource AccentColorBrush}"
                                    Content="{DynamicResource LangKeyCreateMultiplePosts}"
                                    FontSize="12"
                                    Foreground="White"
                                    Visibility="{Binding IsMultiPostAreaVisible}" />

                                <Button
                                    Name="BtnLoadFromCSV"
                                    Width="159"
                                    Height="30"
                                    Margin="0,5"
                                    HorizontalAlignment="Left"
                                    Background="{DynamicResource AccentColorBrush}"
                                    Click="BtnLoadFromCSV_OnClick"
                                    Content="{DynamicResource LangKeyImportFromCSV}"
                                    FontSize="12"
                                    Foreground="White"
                                    Visibility="{Binding IsMultiPostAreaVisible}" />

                                <Button
                                    Name="BtnLoadFromText"
                                    Width="159"
                                    Height="30"
                                    Margin="0,5"
                                    HorizontalAlignment="Left"
                                    Background="{DynamicResource AccentColorBrush}"
                                    Content="{DynamicResource LangKeyImportFromTextFile}"
                                    FontSize="12"
                                    Foreground="White"
                                    Visibility="{Binding IsMultiPostAreaVisible}" />

                            </StackPanel>

                            <Button
                                Name="BtnSelectMonitorFolder"
                                Width="160"
                                Height="30"
                                HorizontalAlignment="Left"
                                Background="{DynamicResource AccentColorBrush}"
                                Content="{DynamicResource LangKeySelectMonitoredFolder}"
                                FontSize="12"
                                Foreground="White"
                                Visibility="{Binding IsMonitoredFolderChecked, Converter={StaticResource BooleanToVisibilityConverter}}" />

                        </StackPanel>


                    </Grid>

                    <!--  JobConfiguration Expender  -->

                    <Expander
                        Margin="5,5"
                        Header="{DynamicResource LangKeyJobConfiguration}"
                        IsExpanded="{Binding IsExpanded, ElementName=PosterHeader}">
                        <DHCustomControl:JobConfigControl x:Name="PosterJobConfigurationControl" JobConfiguration="{Binding JobConfiguration}" />
                    </Expander>

                    <!--  Other Configuration Expender  -->
                    <Expander
                        Margin="5,5"
                        Header="{DynamicResource LangKeyOtherConfigurations}"
                        IsExpanded="{Binding IsExpanded, ElementName=PosterHeader}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="1.3*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0">

                                <StackPanel HorizontalAlignment="Left" Orientation="Horizontal">
                                    <Label
                                        Margin="10,2,0,0"
                                        VerticalAlignment="Center"
                                        Content="{DynamicResource LangKeyThreads}"
                                        FontWeight="SemiBold" />
                                    <Controls:NumericUpDown
                                        Name="TxtThreads"
                                        Margin="5,5,5,0"
                                        Minimum="1"
                                        Value="{Binding ThreadCount}" />
                                </StackPanel>

                                <RadioButton
                                    Margin="20,5,0,0"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Content="{DynamicResource LangKeyAsAPost}"
                                    IsChecked="{Binding IsUploadAsNormalPicChecked}" />

                                <RadioButton
                                    Margin="20,5,0,0"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Content="{DynamicResource LangKeyAsAProfilePicture}"
                                    IsChecked="{Binding IsUploadAsProfilePicChecked}" />

                                <StackPanel
                                    Margin="10,8,0,0"
                                    HorizontalAlignment="Left"
                                    Orientation="Horizontal">

                                    <Label VerticalAlignment="Center" Content="{DynamicResource LangKeyDelayBetweenPosts}" />

                                    <Controls:NumericUpDown
                                        Name="TxtDelayMin"
                                        Margin="5,5,5,0"
                                        Value="{Binding DelayBetweenJobs.StartValue}" />

                                    <Label
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        Content="{DynamicResource LangKeyTo}" />

                                    <Controls:NumericUpDown
                                        Name="TxtDelayMax"
                                        Margin="5,5,5,0"
                                        Minimum="{Binding DelayBetweenJobs.StartValue}"
                                        Value="{Binding DelayBetweenJobs.EndValue}" />

                                    <Label VerticalAlignment="Center" Content="{DynamicResource LangKeyMinutes}" />

                                </StackPanel>

                                <StackPanel
                                    Margin="10,8,0,0"
                                    HorizontalAlignment="Left"
                                    Orientation="Horizontal">
                                    <Label VerticalAlignment="Center" Content="{DynamicResource LangKeyDelayBetweenPostingFromDifferentAccounts}" />

                                    <Controls:NumericUpDown Margin="5,5,5,0" Value="{Binding DelayBetweenAccount.StartValue}" />

                                    <Label
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        Content="{DynamicResource LangKeyTo}" />

                                    <Controls:NumericUpDown
                                        Margin="5,5,5,0"
                                        Minimum="{Binding DelayBetweenAccount.StartValue}"
                                        Value="{Binding DelayBetweenAccount.EndValue}" />

                                    <Label VerticalAlignment="Center" Content="{DynamicResource LangKeySeconds}" />
                                </StackPanel>

                            </StackPanel>

                            <StackPanel Grid.Column="1">

                                <StackPanel Orientation="Horizontal">

                                    <Label
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Center"
                                        Content="{DynamicResource LangKeyNumberOfPostInADay}" />

                                    <Controls:NumericUpDown
                                        Name="TxtActivityCount"
                                        Margin="5,5,5,0"
                                        Value="{Binding TotalActionCount}" />


                                </StackPanel>

                                <CheckBox
                                    Name="chkPostUnique"
                                    Margin="5"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Center"
                                    Content="{DynamicResource LangKeyPostUniqueMediaFromEachAccount}"
                                    IsChecked="{Binding IsUniqueOperationChecked}" />

                            </StackPanel>

                        </Grid>
                    </Expander>

                </StackPanel>
            </ScrollViewer>
        </Grid>

        <!--  Create campaign and select account section  -->
        <StackPanel Margin="5,0" VerticalAlignment="Bottom">

            <DHCustomControl:FooterControl
                x:Name="PosterFooter"
                CampaignManager="{Binding CampaignButtonContent}"
                CreateCampaignChanged="PosterFooter_OnCreateCampaignChanged"
                NoOfAccountsSelected="{Binding SelectedAccountCount}"
                SelectAccountChanged="PosterFooter_OnSelectAccountChanged"
                UpdateCampaignChanged="PosterFooter_OnUpdateCampaignChanged" />

        </StackPanel>

        <Controls:FlyoutsControl>
            <Controls:Flyout
                Name="HelpFlyout"
                Width="300"
                Background="{DynamicResource AccentBaseColorBrush}"
                BorderBrush="Black"
                BorderThickness="2"
                FontWeight="Bold"
                Header="{DynamicResource LangKeyModuleDescription}"
                IsOpen="False"
                IsPinned="False"
                Position="Right"
                Theme="Accent"
                Visibility="Collapsed">
                <DHCustomControl:HelpControl />
            </Controls:Flyout>
        </Controls:FlyoutsControl>
    </Grid>
</local:PosterBase>