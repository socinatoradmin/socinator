<UserControl
    x:Class="DominatorUIUtility.CustomControl.Loader"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <UserControl.Resources>
        <Storyboard
            x:Key="RotationAnimation"
            AutoReverse="False"
            RepeatBehavior="Forever">
            <DoubleAnimation
                Storyboard.TargetName="LoaderCircle"
                Storyboard.TargetProperty="(UIElement.RenderTransform).(RotateTransform.Angle)"
                From="0"
                To="360"
                Duration="0:0:2" />
        </Storyboard>
        <Storyboard
            x:Key="RotationAnimationInner"
            AutoReverse="False"
            RepeatBehavior="Forever">
            <DoubleAnimation
                Storyboard.TargetName="LoaderInnerCircle"
                Storyboard.TargetProperty="(UIElement.RenderTransform).(RotateTransform.Angle)"
                From="360"
                To="0"
                Duration="0:0:2" />
        </Storyboard>
        <Storyboard
            x:Key="RotationAnimationOuter"
            AutoReverse="False"
            RepeatBehavior="Forever">
            <DoubleAnimation
                Storyboard.TargetName="LoaderCircleOuter"
                Storyboard.TargetProperty="(UIElement.RenderTransform).(RotateTransform.Angle)"
                From="0"
                To="360"
                Duration="0:0:2" />
        </Storyboard>
    </UserControl.Resources>
    <UserControl.Triggers>
        <!--  Begin the animation as soon as the window is loaded  -->
        <EventTrigger RoutedEvent="UserControl.Loaded">
            <BeginStoryboard Storyboard="{StaticResource RotationAnimation}" />
            <BeginStoryboard Storyboard="{StaticResource RotationAnimationInner}" />
            <BeginStoryboard Storyboard="{StaticResource RotationAnimationOuter}" />
        </EventTrigger>
    </UserControl.Triggers>
    <Border
        Width="170"
        Height="170"
        CornerRadius="100">
        <Grid Background="Transparent">
            <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
                <Ellipse
                    Name="LoaderCircleOuter"
                    Width="170"
                    Height="170"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Bottom"
                    Stroke="{DynamicResource LoaderGradientBrushOuter}"
                    StrokeThickness="10">
                    <Ellipse.RenderTransform>
                        <RotateTransform Angle="120" CenterX="85" CenterY="85" />
                    </Ellipse.RenderTransform>
                </Ellipse>
            </Grid>
            <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
                <Ellipse
                    Name="LoaderCircle"
                    Width="140"
                    Height="140"
                    Stroke="{DynamicResource LoaderGradientBrush}"
                    StrokeThickness="10">
                    <Ellipse.RenderTransform>
                        <RotateTransform Angle="220" CenterX="70" CenterY="70" />
                    </Ellipse.RenderTransform>
                </Ellipse>
            </Grid>
            <Grid>
                <Grid HorizontalAlignment="Center" VerticalAlignment="Center">
                    <Ellipse
                        Name="LoaderInnerCircle"
                        Width="110"
                        Height="110"
                        Stroke="{DynamicResource LoaderGradientBrushInner}"
                        StrokeThickness="8">
                        <Ellipse.RenderTransform>
                            <RotateTransform Angle="290" CenterX="55" CenterY="55" />
                        </Ellipse.RenderTransform>
                    </Ellipse>
                </Grid>
                <TextBlock
                    Width="90"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    FontFamily="{DynamicResource RubikRegular}"
                    FontSize="14"
                    Foreground="{DynamicResource LicenseWindowColorBrush}"
                    Text="{DynamicResource LangKeyValidatingLicense}"
                    TextAlignment="Center"
                    TextWrapping="Wrap"
                    Visibility="Collapsed" />
            </Grid>
        </Grid>
    </Border>
</UserControl>