<UserControl
    x:Class="DominatorUIUtility.CustomControl.InputBoxControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Controls="http://metro.mahapps.com/winfx/xaml/controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">
    <Grid x:Name="MainGrid">
        <!--  Set the styles for the tool bar.  -->
        <Grid.Resources>
            <Style x:Key="formatTextStyle" TargetType="{x:Type Button}">
                <Setter Property="FontFamily" Value="Palatino Linotype" />
                <Setter Property="Width" Value="30" />
                <Setter Property="FontSize" Value="14" />
                <Setter Property="CommandTarget" Value="{Binding ElementName=mainRTB}" />
            </Style>

            <Style x:Key="formatImageStyle" TargetType="{x:Type Button}">
                <Setter Property="Width" Value="30" />
                <Setter Property="CommandTarget" Value="{Binding ElementName=mainRTB}" />
            </Style>
        </Grid.Resources>

        <StackPanel Orientation="Horizontal">

            <StackPanel Orientation="Vertical">

                <StackPanel Orientation="Horizontal" Visibility="Collapsed">
                    <!--  This tool bar contains all the editing buttons.  -->
                    <ToolBar
                        Name="mainToolBar"
                        Width="Auto"
                        Height="Auto"
                        VerticalAlignment="Top"
                        DockPanel.Dock="Left"
                        ScrollViewer.HorizontalScrollBarVisibility="Auto"
                        ToolBarTray.IsLocked="True">
                        <ToolBar.Resources>
                            <Style TargetType="{x:Type ToolBarPanel}">
                                <Setter Property="Orientation" Value="Vertical" />
                            </Style>
                        </ToolBar.Resources>
                        <!--<Button Style="{StaticResource formatImageStyle}" Command="ApplicationCommands.Cut" ToolTip="Cut">
                        <Image Width="25" Height="25" Stretch="UniformToFill" Source="/DominatorUIUtility;component/Images/Edit.png" ></Image>
                    </Button>
                    <Button Style="{StaticResource formatImageStyle}" Command="ApplicationCommands.Copy" ToolTip="Copy">
                        <Image Width="25" Height="25" Stretch="UniformToFill" Source="/DominatorUIUtility;component/Images/Edit.png"></Image>
                    </Button>
                    <Button Style="{StaticResource formatImageStyle}" Command="ApplicationCommands.Paste" ToolTip="Paste">
                        <Image Width="25" Height="25" Stretch="UniformToFill" Source="/DominatorUIUtility;component/Images/Edit.png"></Image>
                    </Button>
                    <Button Style="{StaticResource formatImageStyle}" Command="ApplicationCommands.Undo" ToolTip="Undo">
                        <Image Width="25" Height="25" Stretch="UniformToFill" Source="/DominatorUIUtility;component/Images/Edit.png"></Image>
                    </Button>
                    <Button Style="{StaticResource formatImageStyle}" Command="ApplicationCommands.Redo" ToolTip="Redo">
                        <Image Width="25" Height="25" Stretch="UniformToFill" Source="/DominatorUIUtility;component/Images/Edit.png"></Image>
                    </Button>-->

                        <Button
                            Click="OnClick"
                            Command="EditingCommands.ToggleBold"
                            Style="{StaticResource formatTextStyle}"
                            ToolTip="Bold">
                            <TextBlock FontWeight="Bold" Foreground="{DynamicResource TextColorBrushAccordingTheme1}">B</TextBlock>
                        </Button>
                        <Button
                            Command="EditingCommands.ToggleItalic"
                            Style="{StaticResource formatTextStyle}"
                            ToolTip="Italic">
                            <TextBlock
                                FontStyle="Italic"
                                FontWeight="Bold"
                                Foreground="{DynamicResource TextColorBrushAccordingTheme1}">
                                I
                            </TextBlock>
                        </Button>
                        <Button
                            Command="EditingCommands.ToggleUnderline"
                            Style="{StaticResource formatTextStyle}"
                            ToolTip="Underline">
                            <TextBlock
                                FontWeight="Bold"
                                Foreground="{DynamicResource TextColorBrushAccordingTheme1}"
                                TextDecorations="Underline">
                                U
                            </TextBlock>
                        </Button>
                        <!--<Button Style="{StaticResource formatImageStyle}" Command="EditingCommands.IncreaseFontSize" ToolTip="Grow Font">
                        <Image Width="25" Height="25" Stretch="UniformToFill" Source="/DominatorUIUtility;component/Images/Edit.png"></Image>
                    </Button>
                    <Button Style="{StaticResource formatImageStyle}" Command="EditingCommands.DecreaseFontSize" ToolTip="Shrink Font">
                        <Image Width="25" Height="25" Stretch="UniformToFill" Source="/DominatorUIUtility;component/Images/Edit.png"></Image>
                    </Button>

                    <Button Style="{StaticResource formatImageStyle}" Command="EditingCommands.ToggleBullets" ToolTip="Bullets">
                        <Image Width="25" Height="25" Stretch="UniformToFill" Source="/DominatorUIUtility;component/Images/Edit.png"></Image>
                    </Button>
                    <Button Style="{StaticResource formatImageStyle}" Command="EditingCommands.ToggleNumbering" ToolTip="Numbering">
                        <Image Width="25" Height="25" Stretch="UniformToFill" Source="/DominatorUIUtility;component/Images/Edit.png"></Image>
                    </Button>
                    <Button Style="{StaticResource formatImageStyle}" Command="EditingCommands.AlignLeft" ToolTip="Align Left">
                        <Image Width="25" Height="25" Stretch="UniformToFill" Source="/DominatorUIUtility;component/Images/Edit.png"></Image>
                    </Button>
                    <Button Style="{StaticResource formatImageStyle}" Command="EditingCommands.AlignCenter" ToolTip="Align Center">
                        <Image Width="25" Height="25" Stretch="UniformToFill" Source="/DominatorUIUtility;component/Images/Edit.png"></Image>
                    </Button>
                    <Button Style="{StaticResource formatImageStyle}" Command="EditingCommands.AlignRight" ToolTip="Align Right">
                        <Image Width="25" Height="25" Stretch="UniformToFill" Source="/DominatorUIUtility;component/Images/Edit.png"></Image>
                    </Button>
                    <Button Style="{StaticResource formatImageStyle}" Command="EditingCommands.AlignJustify" ToolTip="Align Justify">
                        <Image Width="25" Height="25" Stretch="UniformToFill" Source="/DominatorUIUtility;component/Images/Edit.png"></Image>
                    </Button>
                    <Button Style="{StaticResource formatImageStyle}" Command="EditingCommands.IncreaseIndentation" ToolTip="Increase Indent">
                        <Image Width="25" Height="25" Stretch="UniformToFill" Source="/DominatorUIUtility;component/Images/Edit.png"></Image>
                    </Button>
                    <Button Style="{StaticResource formatImageStyle}" Command="EditingCommands.DecreaseIndentation" ToolTip="Decrease Indent">
                        <Image Width="25" Height="25" Stretch="UniformToFill" Source="/DominatorUIUtility;component/Images/Edit.png"></Image>
                    </Button>-->

                    </ToolBar>
                    <!--
                        By default pressing tab moves focus to the next control. Setting AcceptsTab to true allows the
                        RichTextBox to accept tab characters.
                    -->
                    <RichTextBox
                        Name="mainRTB"
                        Width="300"
                        Height="80"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Bottom"
                        Controls:TextBoxHelper.Watermark="{Binding WaterMarkText}"
                        AcceptsReturn="True"
                        AcceptsTab="True"
                        BorderBrush="{DynamicResource AccentBaseColorBrush}"
                        BorderThickness="2"
                        VerticalScrollBarVisibility="Auto" />
                </StackPanel>

                <TextBox
                    Name="TxtInvalidWord"
                    Width="300"
                    Height="{Binding Height}"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Bottom"
                    Controls:TextBoxHelper.Watermark="{Binding WaterMarkText}"
                    AcceptsReturn="True"
                    Background="Transparent"
                    BorderBrush="{DynamicResource AccentBaseColorBrush}"
                    BorderThickness="2"
                    Text="{Binding InputText}"
                    TextChanged="OnTextChanged"
                    TextWrapping="Wrap"
                    VerticalScrollBarVisibility="Auto"
                    Visibility="Visible" />
            </StackPanel>
            <StackPanel VerticalAlignment="Center">
                <Button
                    Name="BtnImportBlacklistsText"
                    Width="35"
                    Height="25"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center"
                    Background="{DynamicResource AccentBaseColorBrush}"
                    Click="BtnImportBlacklistsText_OnClick"
                    Foreground="White"
                    Visibility="{Binding ImportVisiblity}">
                    <StackPanel
                        HorizontalAlignment="Left"
                        Orientation="Horizontal"
                        ToolTip="{DynamicResource LangKeyImportFromCsvTxt}">

                        <Rectangle
                            Width="13"
                            Height="15"
                            HorizontalAlignment="Center"
                            Fill="White">
                            <Rectangle.OpacityMask>
                                <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_page_upload}" />
                            </Rectangle.OpacityMask>
                        </Rectangle>
                    </StackPanel>
                </Button>
                <Button
                    Name="BtnRefereshBlacklistsText"
                    Width="35"
                    Height="25"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center"
                    Background="{DynamicResource AccentBaseColorBrush}"
                    Click="BtnRefereshBlacklistsText_OnClick"
                    Command="{Binding ClearCommand}"
                    CommandParameter="{Binding CommandParameter}"
                    Foreground="White"
                    Visibility="{Binding RefreshVisiblity}">
                    <StackPanel
                        HorizontalAlignment="Left"
                        Orientation="Horizontal"
                        ToolTip="{DynamicResource LangClear﻿﻿﻿﻿All}">
                        <Rectangle
                            Width="13"
                            Height="15"
                            HorizontalAlignment="Center"
                            Fill="White">
                            <Rectangle.OpacityMask>
                                <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_clean}" />
                            </Rectangle.OpacityMask>
                        </Rectangle>
                    </StackPanel>
                </Button>
                <Button
                    Name="BtnSaveBlacklistsText"
                    Width="35"
                    Height="25"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center"
                    Background="{DynamicResource AccentBaseColorBrush}"
                    Command="{Binding SaveCommand}"
                    CommandParameter="{Binding CommandParameter}"
                    Foreground="White"
                    Visibility="{Binding SaveVisiblity}">
                    <StackPanel
                        HorizontalAlignment="Left"
                        Orientation="Horizontal"
                        ToolTip="{DynamicResource LangKeySave}">
                        <Rectangle
                            Width="13"
                            Height="15"
                            HorizontalAlignment="Center"
                            Fill="White">
                            <Rectangle.OpacityMask>
                                <VisualBrush Stretch="Fill" Visual="{StaticResource appbar_save}" />
                            </Rectangle.OpacityMask>
                        </Rectangle>
                    </StackPanel>
                    <Button.Style>
                        <Style BasedOn="{StaticResource {x:Type Button}}" TargetType="{x:Type Button}">
                            <Setter Property="IsEnabled" Value="True" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Path=Text, ElementName=TxtInvalidWord}" Value="">
                                    <Setter Property="IsEnabled" Value="False" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>
            </StackPanel>
        </StackPanel>
    </Grid>
</UserControl>