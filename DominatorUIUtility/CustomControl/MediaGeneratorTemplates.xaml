<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <ControlTemplate x:Key="MediaGeneratorControlTemplate">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="45" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <Button
                Grid.Row="0"
                Margin="5"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Background="Transparent"
                Command="{Binding BrowseCommand}"
                Cursor="Hand"
                ToolTip="{DynamicResource LangKeyBrowse}">
                <Button.Template>
                    <ControlTemplate>
                        <Border
                            x:Name="SaveBtnBorder"
                            Background="{DynamicResource AccentBaseColorBrush}"
                            CornerRadius="8">
                            <Grid Margin="15,10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="30" />
                                </Grid.ColumnDefinitions>
                                <TextBlock
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Center"
                                    Foreground="White"
                                    Text="{DynamicResource LangKeyLoadMediaFileS}" />
                                <Canvas
                                    Grid.Column="1"
                                    Width="15"
                                    Height="15"
                                    HorizontalAlignment="Right"
                                    Clip="F1 M 0,0L 48,0L 48,48L 0,48L 0,0">
                                    <Path
                                        Width="15.7781"
                                        Height="15.7781"
                                        Data="F1 M 16.6668,20L 13,28.5336L 13,16L 23,16L 23,15C 23,13.8954 23.8954,13 25,13L 32,13C 33.1046,13 35,14.8954 35,16L 35,20L 16.6668,20 Z M 35,32L 28,32L 13,32L 17.5833,21L 39.5833,21L 35,32 Z "
                                        Fill="White"
                                        Stretch="Fill" />

                                </Canvas>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="SaveBtnBorder" Property="Background" Value="#38D138" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Button.Template>
            </Button>
            <Border
                Grid.Row="1"
                Margin="5"
                HorizontalAlignment="Center"
                BorderBrush="Gainsboro"
                BorderThickness="2">
                <Border.Style>
                    <Style TargetType="Border">
                        <Setter Property="Visibility" Value="Visible" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding LstFile.Count}" Value="0">
                                <Setter Property="Visibility" Value="Collapsed" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Border.Style>
                <ListView
                    x:Name="MediaGeneratorFileList"
                    Margin="10,5"
                    HorizontalAlignment="Center"
                    ItemsSource="{Binding LstFile}">
                    <ListView.InputBindings>
                        <KeyBinding
                            Key="C"
                            Command="{Binding CopyCmd}"
                            CommandParameter="{Binding SelectedItems, ElementName=MediaGeneratorFileList}"
                            Modifiers="Control" />
                    </ListView.InputBindings>

                    <ListView.ContextMenu>
                        <ContextMenu DataContext="{Binding PlacementTarget.DataContext, RelativeSource={RelativeSource Self}}">
                            <MenuItem
                                Command="{Binding CopyCmd}"
                                CommandParameter="{Binding Path=PlacementTarget.SelectedItems, RelativeSource={RelativeSource AncestorType={x:Type ContextMenu}}}"
                                Header="{DynamicResource LangKeyCopySelected}" />
                        </ContextMenu>
                    </ListView.ContextMenu>

                </ListView>
            </Border>
        </Grid>
    </ControlTemplate>
</ResourceDictionary>