<local:TryConfigurationBase x:Class="PinDominator.PDViews.Tools.Try.TryConfiguration"
                            xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                            xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                            xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                            xmlns:local="clr-namespace:PinDominator.PDViews.Tools.Try"
                            mc:Ignorable="d" MaxHeight="500" x:Name="TryConfigurationUserControl"
                            xmlns:controls="http://metro.mahapps.com/winfx/xaml/controls"
                            xmlns:customControl="clr-namespace:DominatorUIUtility.CustomControl;assembly=DominatorUIUtility"
                            xmlns:customControl1="clr-namespace:PinDominator.CustomControl"
                            xmlns:converters="clr-namespace:DominatorHouseCore.Converters;assembly=DominatorHouseCore"
                            xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity">

    <i:Interaction.Triggers>
        <i:EventTrigger EventName="Loaded">
            <i:InvokeCommandAction Command="{Binding LoadedCommand,ElementName=TryConfigurationUserControl}" />
        </i:EventTrigger>
    </i:Interaction.Triggers>

    <UserControl.Resources>
        <converters:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
    </UserControl.Resources>

    <Grid Name="MainGrid">
        <Grid.RowDefinitions>
            <RowDefinition Height="40" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <customControl:AccountGrowthModeHeader Name="AccountGrowthHeader"
                                               VerticalAlignment="Top" SelectedIndex="0"
                                               SelectionChangedCommand="{Binding SelectionChangedCommand,ElementName=TryConfigurationUserControl}"
                                               SaveCommand="{Binding SaveConfigurationsCommand}"
                                               VideoTutorialLink="{Binding VideoTutorialLink}" />
        <ScrollViewer Grid.Row="1">
            <Grid>
                <StackPanel Orientation="Vertical">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{DynamicResource LangKeyStatus}" FontWeight="Bold" HorizontalAlignment="Left"
                                   Margin="5" />
                        <controls:ToggleSwitch OnLabel="Active﻿" OffLabel="Stopped" x:Name="TglStatus"
                                               FontSize="12" Margin="5"
                                               Style="{StaticResource MahApps.Metro.Styles.ToggleSwitch.Win10}"
                                               IsChecked="{Binding TryModel.IsAccountGrowthActive}">
                            <i:Interaction.Triggers>
                                <i:EventTrigger EventName="Click">
                                    <i:InvokeCommandAction
                                        Command="{Binding StatusChangedCommand,ElementName=TryConfigurationUserControl}" />
                                </i:EventTrigger>
                            </i:Interaction.Triggers>
                        </controls:ToggleSwitch>
                    </StackPanel>

                    <Expander Header="{DynamicResource LangKeySearchQuery}" IsExpanded="True" Margin="5">
                        <customControl:SearchQueryControl
                            IsExpanded="{Binding IsExpanded,ElementName=AccountGrowthHeader,UpdateSourceTrigger=Explicit}"
                            Name="TryConfigurationSearchControl"
                            ListQueryInfo="{Binding TryModel.SavedQueries}"
                            ListQueryType="{Binding TryModel.ListQueryType}"
                            AddQueryCommand="{Binding AddQueryCommand}"
                            DeleteQueryCommand="{Binding DeleteQueryCommand}"
                            DeleteMulipleCommand="{Binding DeleteMulipleCommand}"
                            CommandParameter="{Binding ElementName=TryConfigurationUserControl}"
                            CustomFilterCommand="{Binding CustomFilterCommand}" />
                    </Expander>
                    <!-- Manage Note-->
                    <Expander Header="{DynamicResource LangKeyManageNote}" Margin="5,5">
                        <StackPanel>
                            <CheckBox Content="{DynamicResource LangKeyMakeNoteAsSpinText}"
                                      IsChecked="{Binding TryModel.IsMakeNoteAsSpinText}" />
                            <customControl1:NoteControl
                                Notes="{Binding TryModel.ManageNoteModel, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                AddNoteToListChanged="note_AddNoteToListChanged" />
                            <customControl1:ManageNote
                                LstManageNoteModel="{Binding TryModel.LstDisplayManageNoteModel}" />
                        </StackPanel>
                    </Expander>

                    <!-- After JobConfiguration  Expender-->
                    <Expander Header="{DynamicResource LangKeyJobConfiguration}" Margin="5,5">
                        <customControl:JobConfigControl JobConfiguration="{Binding TryModel.JobConfiguration}"
                                                        PerJobActivity="{DynamicResource LangKeyPins}"
                                                        PerHourActivity="{DynamicResource LangKeyPins}"
                                                        PerDayActivity="{DynamicResource LangKeyPins}"
                                                        PerWeekActivity="{DynamicResource LangKeyPins}" />
                    </Expander>

                    <!-- After User Filters Expender-->
                    <Expander Header="{DynamicResource LangKeyUserFilters}" Margin="5,5"
                              Visibility="{Binding TryModel.IsEnableAdvancedUserMode,Converter={StaticResource BooleanToVisibilityConverter}}">
                        <customControl1:UserFiltersControl x:Name="UserFiltersControl"
                                                           UserFilter="{Binding TryModel.UserFilterModel}" />
                    </Expander>


                    <!-- After Post Filter Expender-->

                    <Expander Header="{DynamicResource LangKeyPinFilter}" Margin="5,5"
                              Visibility="{Binding TryModel.IsEnableAdvancedUserMode,Converter={StaticResource BooleanToVisibilityConverter}}">
                        <customControl1:PostFilterControl PostFilter="{Binding TryModel.PostFilterModel}" />
                    </Expander>

                    <!-- After like Action Expender-->
                    <Expander Header="{DynamicResource LangKeyAfterTryAction}" Margin="5,5"
                              Visibility="{Binding TryModel.IsEnableAdvancedUserMode,Converter={StaticResource BooleanToVisibilityConverter}}">

                        <StackPanel>
                            <CheckBox Content="{DynamicResource LangKeyFollowUserAfterTry}" Margin="5,5"
                                      IsChecked="{Binding TryModel.IsChkFollowUserAfterTry}" />

                            <StackPanel Margin="5,5">
                                <CheckBox Content="{DynamicResource LangKeyTryUsersLatestPins}"
                                          Name="ChkTryUsersLatestPins"
                                          IsChecked="{Binding TryModel.ChkTryUsersLatestPinsChecked}" />
                                <StackPanel
                                    Visibility="{Binding TryModel.ChkTryUsersLatestPinsChecked, Converter={StaticResource BooleanToVisibilityConverter}}">
                                    <StackPanel Orientation="Horizontal" Margin="10,8,0,0">
                                        <Label Content="{DynamicResource LangKeyTryAMaximumOf}" />
                                        <controls:NumericUpDown Margin="5,5,5,0" Minimum="1" Name="TryStartVAlue"
                                                                Value="{Binding TryModel.Tries.StartValue}" />
                                        <TextBlock Text="{DynamicResource LangKeyTo}" VerticalAlignment="Center" />
                                        <controls:NumericUpDown Margin="5,5,5,0"
                                                                Minimum="{Binding  TryModel.Tries.StartValue}"
                                                                Value="{Binding TryModel.Tries.EndValue}" />
                                        <TextBlock Text="{DynamicResource LangKeyPins}" Margin="5" />
                                    </StackPanel>
                                    <StackPanel Orientation="Horizontal" Margin="10,0">
                                        <Label Content="{DynamicResource LangKeyDelayBetween}"
                                               VerticalAlignment="Center" />
                                        <controls:NumericUpDown Margin="5,5,5,0"
                                                                Value="{Binding TryModel.DelayBetweenTriesForAfterActivity.StartValue}"
                                                                Name="DelayBetweenTryActivityStartValue" Minimum="0" />
                                        <Label HorizontalAlignment="Center" VerticalAlignment="Center"
                                               Content="{DynamicResource LangKeyTo}" />
                                        <controls:NumericUpDown Margin="5,5,5,0"
                                                                Value="{Binding TryModel.DelayBetweenTriesForAfterActivity.EndValue}"
                                                                Minimum="{Binding Value,ElementName=DelayBetweenTryActivityStartValue}" />
                                        <Label VerticalAlignment="Center"
                                               Content="{DynamicResource LangKeySecondsBetweenEachTry}" />
                                    </StackPanel>
                                    <!--<StackPanel Orientation="Horizontal"  HorizontalAlignment="Left" Margin="10,8,0,0">
                                                <CheckBox Content="{DynamicResource LangKeyIncreaseEachDayWith}" VerticalAlignment="Center" IsChecked="{Binding IsChkIncreaseEachDayTry}"  />
                                                <Controls:NumericUpDown Margin="5,5,5,0" Value="{Binding IncreaseEachDayTry.StartValue}" Name="IncreaseEachDayTryStartValue"/>
                                                <Label HorizontalAlignment="Center" VerticalAlignment="Center"  Content="{DynamicResource LangKeyUntilItReaches}" />
                                                <Controls:NumericUpDown Margin="5,5,5,0" Value="{Binding IncreaseEachDayTry.EndValue}" Minimum="{Binding Value, ElementName=IncreaseEachDayTryStartValue}"/>
                                                <Label  VerticalAlignment="Center" Content="{DynamicResource LangKeyMaxTryPerDay}"  />

                                            </StackPanel>-->
                                    <StackPanel>
                                        <CheckBox Content="{DynamicResource LangKeyUploadNotes}" Margin="10,8,0,0"
                                                  Name="ChkUploadNotes"
                                                  IsChecked="{Binding TryModel.ChkUploadNotesChecked}" />
                                        <StackPanel
                                            Visibility="{Binding TryModel.ChkUploadNotesChecked,Converter={StaticResource BooleanToVisibilityConverter}}">
                                            <TextBlock FontWeight="Bold" Margin="0,10" FontSize="16"
                                                       Text="{DynamicResource LangKeyTryText}"
                                                       VerticalAlignment="Center" />
                                            <customControl:InputBoxControl x:Name="InputNote"
                                                                           InputText="{Binding TryModel.Message, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                                           SaveCommand="{Binding UploadNotesCommand}" />

                                            <StackPanel Orientation="Horizontal">
                                                <Button x:Name="BtnPhotos"
                                                        Background="{DynamicResource AccentBaseColorBrush}" Height="30"
                                                        HorizontalAlignment="Left" Foreground="White" Width="100"
                                                        Command="{Binding AddPhotoCommand}" Margin="5">
                                                    <Button.Content>
                                                        <StackPanel Orientation="Horizontal">
                                                            <Rectangle Width="15" Height="15" Fill="White">
                                                                <Rectangle.OpacityMask>
                                                                    <VisualBrush
                                                                        Visual="{StaticResource appbar_image_export}"
                                                                        Stretch="Fill" />
                                                                </Rectangle.OpacityMask>
                                                            </Rectangle>
                                                            <TextBlock Text="{DynamicResource LangKeyPhoto}"
                                                                       Margin="6,0" />

                                                        </StackPanel>
                                                    </Button.Content>
                                                </Button>

                                                <Image Source="{Binding TryModel.MediaPath}" Height="Auto"
                                                       MaxHeight="60" Margin="5" VerticalAlignment="Center">
                                                    <Image.ContextMenu>
                                                        <ContextMenu>
                                                            <MenuItem Header="{DynamicResource LangKeyDelete}"
                                                                      Click="DeleteMedia_Click">
                                                                <MenuItem.Icon>
                                                                    <Rectangle Width="15" Height="18" Fill="Black"
                                                                               Margin="0,0,0,3"
                                                                               VerticalAlignment="Center"
                                                                               HorizontalAlignment="Center">
                                                                        <Rectangle.OpacityMask>
                                                                            <VisualBrush Stretch="Fill"
                                                                                         Visual="{StaticResource appbar_delete}" />
                                                                        </Rectangle.OpacityMask>
                                                                    </Rectangle>
                                                                </MenuItem.Icon>
                                                            </MenuItem>
                                                        </ContextMenu>
                                                    </Image.ContextMenu>
                                                </Image>
                                            </StackPanel>
                                        </StackPanel>

                                    </StackPanel>
                                </StackPanel>
                            </StackPanel>
                        </StackPanel>
                    </Expander>

                    <!--Manage Blacklist Whitelist Users  expander-->

                    <Expander Header="{DynamicResource LangKeyManageBlacklistWhitelistUsers}" Margin="5,5"
                              Visibility="{Binding TryModel.IsEnableAdvancedUserMode,Converter={StaticResource BooleanToVisibilityConverter}}">
                        <StackPanel>
                            <CheckBox Content="{DynamicResource LangKeySkipBlacklistedUsers}" Margin="10,5"
                                      IsChecked="{Binding TryModel.IsChkSkipBlackListedUser}" />
                            <StackPanel Margin="25,5"
                                        Visibility="{Binding TryModel.IsChkSkipBlackListedUser, Converter={StaticResource BooleanToVisibilityConverter}}"
                                        Orientation="Horizontal">
                                <CheckBox Content="{DynamicResource LangKeyPrivateBlacklist}" Margin="5,0"
                                          IsChecked="{Binding TryModel.IsChkPrivateBlackList}" />
                                <CheckBox Content="{DynamicResource LangKeyGroupBlacklist}" Margin="5,0"
                                          IsChecked="{Binding TryModel.IsChkGroupBlackList}" />
                            </StackPanel>
                        </StackPanel>
                    </Expander>
                </StackPanel>
            </Grid>
        </ScrollViewer>
    </Grid>

</local:TryConfigurationBase>