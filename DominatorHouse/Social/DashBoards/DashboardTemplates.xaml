<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:models="clr-namespace:DominatorHouseCore.Models;assembly=DominatorHouseCore">
    <ControlTemplate x:Key="RevisionHistoryControlTemplate">
        <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
            <ItemsControl Focusable="False" ItemsSource="{Binding LstRevisionHistoryModel}">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <StackPanel />
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemContainerStyle>
                    <Style TargetType="ContentPresenter">
                        <Setter Property="Opacity" Value="0.8" />
                        <!--  default faded  -->
                        <Style.Triggers>
                            <!--  Highlight hovered card  -->
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Opacity" Value="1" />
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </ItemsControl.ItemContainerStyle>
                <ItemsControl.ItemTemplate>
                    <DataTemplate DataType="{x:Type models:RevisionHistoryModel}">
                        <Border
                            Margin="15,5,15,0"
                            Padding="16"
                            Background="White"
                            BorderBrush="#E0E0E0"
                            BorderThickness="1"
                            CornerRadius="10"
                            RenderTransformOrigin="0.5,0.5">

                            <!--  Initial transform  -->
                            <Border.RenderTransform>
                                <ScaleTransform ScaleX="1" ScaleY="1" />
                            </Border.RenderTransform>

                            <Border.Effect>
                                <DropShadowEffect
                                    BlurRadius="6"
                                    Direction="240"
                                    ShadowDepth="7"
                                    Color="#63E1E6" />
                            </Border.Effect>

                            <StackPanel>
                                <!--  Title  -->
                                <TextBlock
                                    Margin="0,0,0,4"
                                    FontSize="16"
                                    FontWeight="Bold"
                                    Foreground="#212121"
                                    Text="{Binding Version, Mode=OneWay, StringFormat=Version : {0}}"
                                    TextWrapping="Wrap" />

                                <!--  Subtitle  -->
                                <TextBlock
                                    Margin="0,0,0,12"
                                    FontSize="13"
                                    Foreground="#757575"
                                    Text="{Binding RevisionDate, Mode=OneWay, StringFormat=Revision Date : {0}}"
                                    TextWrapping="Wrap" />

                                <!--  Divider  -->
                                <Rectangle
                                    Height="1"
                                    Margin="0,0,0,12"
                                    Fill="#EEEEEE" />

                                <!--  Content  -->
                                <ItemsControl ItemsSource="{Binding LstContent}">
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <TextBlock
                                                Margin="4,2"
                                                FontSize="13"
                                                Foreground="#424242"
                                                Text="{Binding StringFormat=• {0}}"
                                                TextWrapping="Wrap" />
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </StackPanel>

                            <!--  Hover Animation  -->
                            <Border.Style>
                                <Style TargetType="Border">
                                    <Style.Triggers>
                                        <!--  Mouse Enter  -->
                                        <EventTrigger RoutedEvent="MouseEnter">
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <!--  Scale up slightly  -->
                                                    <DoubleAnimation
                                                        Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleX)"
                                                        To="1.008"
                                                        Duration="0:0:0.15" />
                                                    <DoubleAnimation
                                                        Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleY)"
                                                        To="1.008"
                                                        Duration="0:0:0.15" />
                                                    <!--  Shadow softer but wider  -->
                                                    <DoubleAnimation
                                                        Storyboard.TargetProperty="(Effect).(DropShadowEffect.BlurRadius)"
                                                        To="12"
                                                        Duration="0:0:0.15" />
                                                    <DoubleAnimation
                                                        Storyboard.TargetProperty="(Effect).(DropShadowEffect.ShadowDepth)"
                                                        To="10"
                                                        Duration="0:0:0.15" />
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger>

                                        <!--  Mouse Leave  -->
                                        <EventTrigger RoutedEvent="MouseLeave">
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <!--  Reset scale  -->
                                                    <DoubleAnimation
                                                        Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleX)"
                                                        To="1"
                                                        Duration="0:0:0.15" />
                                                    <DoubleAnimation
                                                        Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleY)"
                                                        To="1"
                                                        Duration="0:0:0.15" />
                                                    <!--  Reset shadow  -->
                                                    <DoubleAnimation
                                                        Storyboard.TargetProperty="(Effect).(DropShadowEffect.BlurRadius)"
                                                        To="6"
                                                        Duration="0:0:0.15" />
                                                    <DoubleAnimation
                                                        Storyboard.TargetProperty="(Effect).(DropShadowEffect.ShadowDepth)"
                                                        To="7"
                                                        Duration="0:0:0.15" />
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </EventTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Border.Style>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>

        </ScrollViewer>
    </ControlTemplate>
</ResourceDictionary>