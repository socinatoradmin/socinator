<UserControl
    x:Class="DominatorHouse.Support.Logs.Views.LogList"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:pre="http://schemas.microsoft.com/winfx/2006/xaml/presentation/options"
    d:DesignHeight="450"
    d:DesignWidth="800"
    mc:Ignorable="d">
    <UserControl.Template>
        <ControlTemplate>
            <Grid>
                <ListView
                    x:Name="ErrorLogger"
                    Background="Transparent"
                    ItemsSource="{Binding SourceCollection}"
                    ScrollViewer.IsDeferredScrollingEnabled="True"
                    SelectedItem="{Binding SelectedLoggerModel, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"
                    VirtualizingPanel.IsContainerVirtualizable="True"
                    VirtualizingPanel.IsVirtualizing="True"
                    VirtualizingPanel.ScrollUnit="Pixel"
                    VirtualizingPanel.VirtualizationMode="Recycling">
                    <ListView.ItemContainerStyle>
                        <Style TargetType="ListViewItem">
                            <Setter Property="Background" Value="Transparent" />
                            <Setter Property="Margin" Value="2" />
                            <Style.Triggers>
                                <!--  Mouse over  -->
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Background" Value="#6798A8" />
                                </Trigger>
                                <!--  Selected  -->
                                <Trigger Property="IsSelected" Value="True">
                                    <Setter Property="Background" Value="{DynamicResource LoggerListBackground}" />
                                    <Setter Property="Foreground" Value="{DynamicResource TextColorBrushAccordingTheme}" />
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </ListView.ItemContainerStyle>
                    <ListView.InputBindings>
                        <KeyBinding
                            Key="C"
                            Command="{Binding CopyCmd}"
                            Modifiers="Control" />
                    </ListView.InputBindings>
                    <ListView.ItemsPanel>
                        <ItemsPanelTemplate>
                            <VirtualizingStackPanel />
                        </ItemsPanelTemplate>
                    </ListView.ItemsPanel>
                    <ListView.ContextMenu>
                        <ContextMenu>
                            <MenuItem Command="{Binding CopyCmd}" Header="Copy" />
                        </ContextMenu>
                    </ListView.ContextMenu>
                    <ListView.View>
                        <GridView>
                            <GridView.Columns>
                                <GridViewColumn Width="50">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <Rectangle Width="15" Height="15">
                                                <Rectangle.Style>
                                                    <Style TargetType="Rectangle">
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding LogType}" Value="Info">
                                                                <Setter Property="OpacityMask">
                                                                    <Setter.Value>
                                                                        <VisualBrush
                                                                            pre:Freeze="true"
                                                                            Stretch="Fill"
                                                                            Visual="{StaticResource appbar_information_circle}" />
                                                                    </Setter.Value>
                                                                </Setter>
                                                                <Setter Property="Fill">
                                                                    <Setter.Value>
                                                                        <SolidColorBrush pre:Freeze="true" Color="#33ff33" />
                                                                    </Setter.Value>
                                                                </Setter>
                                                                <Setter Property="ToolTip" Value="{DynamicResource LangKeyInformations}" />
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding LogType}" Value="Error">
                                                                <Setter Property="OpacityMask">
                                                                    <Setter.Value>
                                                                        <VisualBrush
                                                                            pre:Freeze="true"
                                                                            Stretch="Fill"
                                                                            Visual="{StaticResource appbar_stop}" />
                                                                    </Setter.Value>
                                                                </Setter>
                                                                <Setter Property="Fill">
                                                                    <Setter.Value>
                                                                        <SolidColorBrush pre:Freeze="true" Color="Red" />
                                                                    </Setter.Value>
                                                                </Setter>
                                                                <Setter Property="ToolTip" Value="{DynamicResource LangKeyError}" />
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding LogType}" Value="Warn">
                                                                <Setter Property="OpacityMask">
                                                                    <Setter.Value>
                                                                        <VisualBrush
                                                                            pre:Freeze="true"
                                                                            Stretch="Fill"
                                                                            Visual="{StaticResource appbar_shield_alert}" />
                                                                    </Setter.Value>
                                                                </Setter>
                                                                <Setter Property="Fill">
                                                                    <Setter.Value>
                                                                        <SolidColorBrush pre:Freeze="true" Color="#ffd700" />
                                                                    </Setter.Value>
                                                                </Setter>
                                                                <Setter Property="ToolTip" Value="{DynamicResource LangKeyWarning}" />
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Rectangle.Style>
                                            </Rectangle>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn
                                    Width="150"
                                    DisplayMemberBinding="{Binding DateTime}"
                                    Header="{DynamicResource LangKeyDatetime}" />
                                <GridViewColumn
                                    Width="130"
                                    DisplayMemberBinding="{Binding Network}"
                                    Header="{DynamicResource LangKeySocialNetwork}" />
                                <GridViewColumn DisplayMemberBinding="{Binding AccountCampaign}" Header="{DynamicResource LangKeyAccountCampaignName}" />
                                <GridViewColumn
                                    Width="130"
                                    DisplayMemberBinding="{Binding ActivityType}"
                                    Header="{DynamicResource LangKeyActivityType}" />
                                <GridViewColumn DisplayMemberBinding="{Binding Message}" Header="{DynamicResource LangKeyMessage}" />
                            </GridView.Columns>
                        </GridView>
                    </ListView.View>
                </ListView>
            </Grid>
        </ControlTemplate>
    </UserControl.Template>
</UserControl>
